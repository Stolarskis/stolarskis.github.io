<!doctype html><html><head><title>Goplant Wireless Test</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/navigators/navbar.css><link rel=stylesheet href=/css/plyr.css><link rel=stylesheet href=/css/flag-icon.min.css><link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><meta property="og:title" content="Goplant Wireless Test"><meta property="og:description" content="Summary of GoPlant's first test"><meta property="og:type" content="article"><meta property="og:url" content="https://stolarskis.github.io/posts/daytest/"><meta property="article:published_time" content="2021-10-29T00:00:00+00:00"><meta property="article:modified_time" content="2021-10-29T00:00:00+00:00"><meta name=description content="Summary of GoPlant's first test"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/single.css><link rel=stylesheet href=/css/navigators/sidebar.css><link rel=stylesheet href=/css/style.css></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/>Scott Stolarski's Portfolio</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><a class=active href=/posts/daytest/ title="Goplant Wireless Test">Goplant Wireless Test</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://stolarskis.github.io/posts/daytest/finishedPlantPotOnWindowCloseUpBanner.jpeg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/scott_hu96a466cd49717ff01ff875c82e3dcffb_683897_120x120_fit_q75_box.jpeg alt="Author Image"><h5 class=author-name>Scott Stolarski</h5><p>October 29, 2021</p></div><div class=title><h1>Goplant Wireless Test</h1></div><div class=post-content id=post-content><p>With the Microcontrollers successfully making requests to the GoPlant API, it&rsquo;s finally time to plug in all sensors and try collecting some data! It just so happened that the week I wanted to try this also happened to be the week it was forcasted to rain every day and my Microcontrollers are far from water proof! Therefore, I grabbed the duct tape, one of my indoor plants, and got to work.</p><h1 id=setting-up-goplant>Setting up Goplant</h1><h3 id=setting-up-the-api>Setting up the Api</h3><hr><p>API setup was pretty straight forward thanks to the helm chart that automates setting up the database and api on a Kubernetes Cluster. The Cluster itself is also extremely easy to setup thanks to Docker Desktop!</p><h3 id=setting-up-the-plant-pot>Setting up the Plant Pot</h3><hr><img src=/posts/daytest/finishedPlantPotOnWindow.jpeg alt="Finished Plant Pot" width=600 height=700 style=float:right><h5 id=soil-sensors>Soil Sensors</h5><p>Both soil sensors were purchased from Vegetronix and they are super easy to setup because it only has three wires, power, ground, and out, and you plug these directly into the Microcontroller.</p><img src=/posts/daytest/soil_sensors.jpeg alt="Soil Sensors" width=300 height=250><h5 id=light-intensity-sensor>Light Intensity Sensor</h5><p>Light sensor is slightly more complicated because it uses a Photoresistor that can&rsquo;t handle 5 volts, which is the only port the Microcontroller im using provides. I added a 220 Ohm resistor to avoid blowing it up and it works like a charm!</p><p>Trying to tape the bread board circuit to the plant pot turned out to be more trouble than it was worth. Instead I grabbed some PCB prototype board and soldered the components together into one unit. This was my first time converting a breadboard circuit to PCB and the final product did work the <em>first time</em> ! I felt as if I passed some right of passage as a electrical hobbyist.</p><img src=/posts/daytest/bread_board_photoresistor_circuit.jpeg alt="Bread board photoresistor circuit" width=300 height=200 style=float:left>
<img src=/posts/daytest/pcbPhotoresistor.jpeg alt="Bread board photoresistor circuit" width=300 height=200 style=float:left><div style=margin-top:15rem></div><h3 id=firmware-updates>Firmware Updates</h3><hr><h5 id=development>Development</h5><p>I started with three separate arduino scripts for each sensor. The difference between each script being the logic to convert the analog reading into a unit or percentage. As it turns out, the output for the analog output is converted to an integer between 0-1023. I decided to make things easy for myself and store this value in the Database, saving the conversion logic for the script (I&rsquo;m making next) to represent the data. For example, light to lumens, soil temperature to Celsius and soil humidity to a percentage.</p><img src=/posts/daytest/microController.jpeg alt=Microcontroller width=200 height=200 style=float:right><h5 id=over-the-air-ota-updates>Over The Air (OTA) Updates</h5><p>One of the most exciting features I found for these Microcontrollers (Using Arduinos OTA example sketch) is Over The Air updates. Every time I setup a new cluster, either locally on my computer or on a cloud service, the ips and ports change. As more Microcontrollers are added to the system, it can get pretty time consuming to, plug in Microcontroller, flash firmware, plug in next controller, rinse and repeat, only to realize you didn&rsquo;t update some value and have to do it again! Using OTA, as long as the Microcontrollers are plugged in, all I have to do is select the port and upload the new firmware <em>wirellessly</em>! The first time this worked I woke my roommates up with a thunderous &ldquo;YESSSSS!!!!!!!&rdquo;</p><h4 id=known-issues-with-test>Known Issues with Test</h4><p>I knew that there were going to be a few issues with this test that would make the data gathered unreliable. Air conditioning affects soil temperature, light coming through a window on the side of the house affects light intensity, a plant pot with a hole in the bottom for irrigation affects soil moisture. I&rsquo;ll have to rerun this test and see the difference between the data gathered indoors vs outdoors.</p><h3 id=test-results>Test Results</h3><hr><p>For over twenty four hours, the Goplant system was able to gather and store data from all sensors! This is a huge milestone for the project as the MVP I set was only to gather data wirelessly then plot that data on a cool graph. In the next post I&rsquo;ll be converting the data gathered and make some cool graphs! And I really like cool graphs!</p></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/hugo-toha/hugo-toha.github.io/edit/main/content/posts/daytest/index.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>Improve this page</a></div></div><hr><div class="row next-prev-navigator"></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=#setting-up-the-api>Setting up the Api</a></li><li><a href=#setting-up-the-plant-pot>Setting up the Plant Pot</a><ul><li><ul><li><a href=#soil-sensors>Soil Sensors</a></li><li><a href=#light-intensity-sensor>Light Intensity Sensor</a></li></ul></li></ul></li><li><a href=#firmware-updates>Firmware Updates</a><ul><li><ul><li><a href=#development>Development</a></li><li><a href=#over-the-air-ota-updates>Over The Air (OTA) Updates</a></li></ul></li><li><a href=#known-issues-with-test>Known Issues with Test</a></li></ul></li><li><a href=#test-results>Test Results</a></li></ul></li></ul></nav></div></div></section></div><footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=/#education>Education</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><span>Email:</span> <span>csstolarski@gmail.com</span></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hossainemruz/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_2.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2021 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script type=text/javascript src=/js/jquery-3.4.1.min.js></script><script type=text/javascript src=/js/popper.min.js></script><script type=text/javascript src=/js/bootstrap.min.js></script><script type=text/javascript src=/js/navbar.js></script><script type=text/javascript src=/js/plyr.js></script><script type=text/javascript src=/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script src=/js/single.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>